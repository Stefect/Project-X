<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline';">
    <title>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #1a1b26;
            color: #c0caf5;
            overflow-x: hidden;
        }

        .header {
            background: #1f2335;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #2f3549;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            letter-spacing: 2px;
            color: #c0caf5;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .icon-btn {
            background: transparent;
            border: none;
            color: #c0caf5;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .icon-btn:hover {
            background: #2f3549;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 1px;
            color: #565f89;
            text-transform: uppercase;
        }

        .feedback-badge {
            background: #f7768e;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            margin-left: 10px;
        }

        .show-all {
            color: #f7768e;
            text-decoration: none;
            font-size: 14px;
            cursor: pointer;
        }

        .show-all:hover {
            text-decoration: underline;
        }

        .themes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .theme-card {
            background: #24283b;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
            position: relative;
        }

        .theme-card:hover {
            border-color: #414868;
        }

        .theme-card.active {
            border-color: #f7768e;
        }

        .theme-preview {
            height: 80px;
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            padding: 10px;
            gap: 5px;
        }

        .theme-bar {
            width: 8px;
            border-radius: 4px;
        }

        .theme-name {
            font-size: 14px;
            color: #c0caf5;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .radio-indicator {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid #565f89;
        }

        .theme-card.active .radio-indicator {
            border-color: #f7768e;
            background: #f7768e;
            box-shadow: inset 0 0 0 3px #1a1b26;
        }

        .theme-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 6px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #f7768e;
            color: white;
        }

        .btn-primary:hover {
            background: #ff8fa3;
        }

        .btn-secondary {
            background: #2f3549;
            color: #c0caf5;
        }

        .btn-secondary:hover {
            background: #414868;
        }

        .wallpapers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .wallpaper-card {
            aspect-ratio: 16/9;
            border-radius: 6px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
            overflow: hidden;
            background: #24283b;
        }

        .wallpaper-card:hover {
            border-color: #414868;
        }

        .wallpaper-card.active {
            border-color: #f7768e;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #2f3549;
        }

        .setting-label {
            font-size: 14px;
            color: #c0caf5;
        }

        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
            background: #2f3549;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-switch.active {
            background: #f7768e;
        }

        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .toggle-switch.active .toggle-slider {
            transform: translateX(24px);
        }

        .dropdown {
            background: #24283b;
            color: #c0caf5;
            padding: 8px 15px;
            border-radius: 6px;
            border: 1px solid #2f3549;
            font-size: 14px;
            cursor: pointer;
            min-width: 200px;
        }

        .dropdown:hover {
            border-color: #414868;
        }

        .presets-grid {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .preset-card {
            width: 100px;
            height: 100px;
            background: #24283b;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
        }

        .preset-card:hover {
            border-color: #414868;
        }

        .preset-card.active {
            border-color: #f7768e;
        }

        .preset-icon {
            font-size: 40px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>–ü–†–û–°–¢–ï –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø</h1>
        <div class="header-actions">
            <button class="icon-btn" id="close-btn">‚úï</button>
        </div>
    </div>

    <div class="container">
        <!-- –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è -->
        <div class="section">
            <div class="section-header">
                <div>
                    <span class="section-title">–ü–û–ü–ï–†–ï–î–ù–Ü –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø</span>
                    <span class="feedback-badge">FEEDBACK</span>
                </div>
                <a class="show-all">–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å–µ</a>
            </div>
            <div class="presets-grid">
                <div class="preset-card active" data-preset="opera">
                    <div class="preset-icon" style="color: #f7768e;">‚≠ï</div>
                </div>
                <div class="preset-card" data-preset="gx">
                    <div class="preset-icon" style="color: #9d7cd8;">GX</div>
                </div>
            </div>
        </div>

        <!-- –¢–µ–º–∏ -->
        <div class="section">
            <div class="section-header">
                <span class="section-title">–¢–ï–ú–ò</span>
                <a class="show-all">–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å–µ</a>
            </div>
            <div class="themes-grid">
                <div class="theme-card active" data-theme="frutti">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #2d1b2e 0%, #4a1f3b 100%);">
                        <div class="theme-bar" style="background: #f7768e;"></div>
                        <div class="theme-bar" style="background: #ff9e64;"></div>
                        <div class="theme-bar" style="background: #e0af68;"></div>
                    </div>
                    <div class="theme-name">
                        Frutti Di Mare
                        <div class="radio-indicator"></div>
                    </div>
                </div>
                <div class="theme-card" data-theme="purple">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #1a1b26 0%, #2d2a4a 100%);">
                        <div class="theme-bar" style="background: #bb9af7;"></div>
                        <div class="theme-bar" style="background: #9d7cd8;"></div>
                        <div class="theme-bar" style="background: #7aa2f7;"></div>
                    </div>
                    <div class="theme-name">
                        Purple Haze
                        <div class="radio-indicator"></div>
                    </div>
                </div>
                <div class="theme-card" data-theme="vaporwave">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #1a1b26 0%, #243447 100%);">
                        <div class="theme-bar" style="background: #2ac3de;"></div>
                        <div class="theme-bar" style="background: #7dcfff;"></div>
                        <div class="theme-bar" style="background: #b4f9f8;"></div>
                    </div>
                    <div class="theme-name">
                        Vaporwave
                        <div class="radio-indicator"></div>
                    </div>
                </div>
            </div>
            <div class="theme-buttons">
                <button class="btn btn-secondary">–î–æ–¥–∞—Ç–∏ —à–ø–∞–ª–µ—Ä–∏</button>
                <button class="btn btn-primary">–û—Ç—Ä–∏–º–∞—Ç–∏ –±—ñ–ª—å—à–µ</button>
            </div>
        </div>

        <!-- –®–ø–∞–ª–µ—Ä–∏ -->
        <div class="section">
            <div class="section-header">
                <span class="section-title">–®–ü–ê–õ–ï–†–ò</span>
                <a class="show-all">–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å–µ</a>
            </div>
            <div class="wallpapers-grid">
                <div class="wallpaper-card active" style="background: linear-gradient(45deg, #f7768e, #bb9af7);"></div>
                <div class="wallpaper-card" style="background: linear-gradient(45deg, #2ac3de, #7aa2f7);"></div>
                <div class="wallpaper-card" style="background: linear-gradient(45deg, #ff9e64, #e0af68);"></div>
                <div class="wallpaper-card" style="background: linear-gradient(45deg, #9ece6a, #73daca);"></div>
            </div>
        </div>

        <!-- –í–∏–≥–ª—è–¥ -->
        <div class="section">
            <div class="section-header">
                <span class="section-title">–í–ò–ì–õ–Ø–î</span>
            </div>
            <div class="setting-item">
                <span class="setting-label">–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å</span>
                <select class="dropdown">
                    <option>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</option>
                    <option>–°–≤—ñ—Ç–ª–∏–π</option>
                    <option>–¢–µ–º–Ω–∏–π</option>
                </select>
            </div>
            <div class="setting-item">
                <span class="setting-label">–ü–æ–∫–∞–∑–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ü—ñ—é –≤—ñ–∫–Ω–∞</span>
                <select class="dropdown">
                    <option>–ó–æ–≤–Ω—ñ</option>
                    <option>–í—Å–µ—Ä–µ–¥–∏–Ω—ñ</option>
                </select>
            </div>
            <div class="setting-item">
                <span class="setting-label">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–Ω–∞—á–∫–∏ –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∞ GX</span>
                <div class="toggle-switch" onclick="this.classList.toggle('active')">
                    <div class="toggle-slider"></div>
                </div>
            </div>
            <div class="setting-item">
                <span class="setting-label">–†–æ–∑—Ñ–∞—Ä–±—É–π—Ç–µ —ñ–∫–æ–Ω–∫–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–ª—ñ—Ä</span>
                <div class="toggle-switch active" onclick="this.classList.toggle('active')">
                    <div class="toggle-slider"></div>
                </div>
            </div>
            <div class="setting-item">
                <span class="setting-label">–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞–Ω–µ–ª—å –∑–∞–∫–ª–∞–¥–æ–∫</span>
                <div class="toggle-switch" onclick="this.classList.toggle('active')">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ GX -->
        <div class="section">
            <div class="section-header">
                <span class="section-title">–ú–û–ñ–õ–ò–í–û–°–¢–Ü GX</span>
            </div>
            <div class="setting-item">
                <span class="setting-label">–ó–≤—É–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞</span>
                <div class="toggle-switch active" onclick="this.classList.toggle('active')">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        try {
            const { ipcRenderer } = require('electron');
            console.log('‚úÖ IPC Renderer –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ');

            // –¢–µ–º–∏
            const themes = {
                frutti: {
                    name: 'Frutti Di Mare',
                    colors: {
                        primary: '#f7768e',
                        secondary: '#ff9e64',
                        tertiary: '#e0af68',
                        background: '#1a1b26',
                        surface: '#1f2335',
                        toolbar: '#24283b',
                        tab: '#2f3549',
                        tabActive: '#f7768e',
                        text: '#c0caf5',
                        border: '#414868'
                    }
                },
                purple: {
                    name: 'Purple Haze',
                    colors: {
                        primary: '#bb9af7',
                        secondary: '#9d7cd8',
                        tertiary: '#7aa2f7',
                        background: '#1a1b26',
                        surface: '#1f2335',
                        toolbar: '#24283b',
                        tab: '#2f3549',
                        tabActive: '#bb9af7',
                        text: '#c0caf5',
                        border: '#414868'
                    }
                },
                vaporwave: {
                    name: 'Vaporwave',
                    colors: {
                        primary: '#2ac3de',
                        secondary: '#7dcfff',
                        tertiary: '#b4f9f8',
                        background: '#1a1b26',
                        surface: '#1f2335',
                        toolbar: '#24283b',
                        tab: '#2f3549',
                        tabActive: '#2ac3de',
                        text: '#c0caf5',
                        border: '#414868'
                    }
                }
            };

            // –ó–∞–∫—Ä–∏—Ç—Ç—è –≤—ñ–∫–Ω–∞
            const closeBtn = document.getElementById('close-btn');
            if (closeBtn) {
                closeBtn.addEventListener('click', () => {
                    console.log('üî¥ –ó–∞–∫—Ä–∏—Ç—Ç—è –≤—ñ–∫–Ω–∞...');
                    ipcRenderer.send('close-settings-window');
                });
                console.log('‚úÖ –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞');
            }

            // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ—ó —Ç–µ–º–∏
            const savedTheme = localStorage.getItem('browserTheme') || 'frutti';
            const savedThemeCard = document.querySelector(`[data-theme="${savedTheme}"]`);
            if (savedThemeCard) {
                savedThemeCard.classList.add('active');
                console.log('‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–∞ —Ç–µ–º–∞:', savedTheme);
            }

            // –û–±—Ä–æ–±–∫–∞ –≤–∏–±–æ—Ä—É —Ç–µ–º
            document.querySelectorAll('.theme-card').forEach(card => {
                card.addEventListener('click', function() {
                    const themeId = this.dataset.theme;
                    const theme = themes[themeId];
                    
                    console.log('üé® –í–∏–±—Ä–∞–Ω–æ —Ç–µ–º—É:', themeId);
                    
                    if (!theme) {
                        console.error('‚ùå –¢–µ–º–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞:', themeId);
                        return;
                    }

                    // –û–Ω–æ–≤–ª—é—î–º–æ UI
                    document.querySelectorAll('.theme-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');

                    // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤–∏–±—ñ—Ä
                    localStorage.setItem('browserTheme', themeId);

                    // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –Ω–∞ –≥–æ–ª–æ–≤–Ω–µ –≤—ñ–∫–Ω–æ
                    ipcRenderer.send('apply-theme', theme);

                    console.log('‚úÖ –¢–µ–º–∞ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–∞:', theme.name);
                });
            });
            console.log('‚úÖ –û–±—Ä–æ–±–Ω–∏–∫–∏ —Ç–µ–º –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ');

            // –û–±—Ä–æ–±–∫–∞ –≤–∏–±–æ—Ä—É —à–ø–∞–ª–µ—Ä
            document.querySelectorAll('.wallpaper-card').forEach(card => {
                card.addEventListener('click', function() {
                    console.log('üñºÔ∏è –í–∏–±—Ä–∞–Ω–æ —à–ø–∞–ª–µ—Ä–∏');
                    document.querySelectorAll('.wallpaper-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // –û–±—Ä–æ–±–∫–∞ –ø—Ä–µ—Å–µ—Ç—ñ–≤
            document.querySelectorAll('.preset-card').forEach(card => {
                card.addEventListener('click', function() {
                    console.log('‚öôÔ∏è –í–∏–±—Ä–∞–Ω–æ –ø—Ä–µ—Å–µ—Ç');
                    document.querySelectorAll('.preset-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            console.log('‚úÖ –í—Å—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –≥–æ—Ç–æ–≤—ñ');
        } catch (error) {
            console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å:', error);
            alert('–ü–æ–º–∏–ª–∫–∞: ' + error.message);
        }
    </script>
</body>
</html>
