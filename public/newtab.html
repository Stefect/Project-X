<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Нова вкладка</title>
  <link rel="stylesheet" href="css/output.css">
</head>
<body class="dark-mode">
  <div class="time-widget">
    <div class="time" id="time">00:00</div>
    <div class="date" id="date"></div>
  </div>

  <div class="container">
    <div class="greeting" id="greeting">Привіт!</div>
    <div class="logo">BrowserX</div>

    <div class="shortcuts" id="shortcuts">
      <a href="https://duckduckgo.com" class="shortcut">
        <div class="shortcut-icon"></div>
        <span class="shortcut-name">DuckDuckGo</span>
      </a>
      <a href="https://www.youtube.com" class="shortcut">
        <div class="shortcut-icon"></div>
        <span class="shortcut-name">YouTube</span>
      </a>
      <a href="https://github.com" class="shortcut">
        <div class="shortcut-icon"></div>
        <span class="shortcut-name">GitHub</span>
      </a>
      <a href="https://chat.openai.com" class="shortcut">
        <div class="shortcut-icon"></div>
        <span class="shortcut-name">ChatGPT</span>
      </a>
      <a href="https://mail.google.com" class="shortcut">
        <div class="shortcut-icon"></div>
        <span class="shortcut-name">Gmail</span>
      </a>
    </div>
  </div>

  <script>
    // Оновлення часу
    function updateTime() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      document.getElementById('time').textContent = `${hours}:${minutes}`;
      
      const options = { weekday: 'long', day: 'numeric', month: 'long' };
      document.getElementById('date').textContent = now.toLocaleDateString('uk-UA', options);
    }
    
    updateTime();
    setInterval(updateTime, 1000);

    // Привітання залежно від часу доби
    function updateGreeting() {
      const hour = new Date().getHours();
      let greeting;
      
      if (hour >= 5 && hour < 12) {
        greeting = 'Доброго ранку!';
      } else if (hour >= 12 && hour < 18) {
        greeting = 'Доброго дня!';
      } else if (hour >= 18 && hour < 22) {
        greeting = 'Доброго вечора!';
      } else {
        greeting = 'Доброї ночі!';
      }
      
      document.getElementById('greeting').textContent = greeting;
    }
    
    updateGreeting();

    // Завантаження налаштувань теми
    function loadTheme() {
      const mode = localStorage.getItem('themeMode') || 'dark';
      const themeBg = localStorage.getItem('themeBg');
      const themeAccent = localStorage.getItem('themeAccent') || '#3b82f6';
      const wallpaper = localStorage.getItem('wallpaper');
      
      document.body.classList.remove('light-mode', 'dark-mode');
      
      if (mode === 'light') {
        document.body.classList.add('light-mode');
      } else if (mode === 'system') {
        if (window.matchMedia('(prefers-color-scheme: light)').matches) {
          document.body.classList.add('light-mode');
        } else {
          document.body.classList.add('dark-mode');
        }
      } else {
        document.body.classList.add('dark-mode');
      }
      
      document.documentElement.style.setProperty('--accent-color', themeAccent);
      
      // Застосовуємо фон з налаштувань браузера (якщо є)
      if (themeBg) {
        document.body.style.backgroundColor = themeBg;
      }
      
      // Застосовуємо шпалери
      if (wallpaper && wallpaper !== 'none') {
        if (wallpaper.startsWith('data:') || wallpaper.startsWith('http')) {
          // Кастомна картинка
          document.body.style.backgroundImage = `url(${wallpaper})`;
        } else {
          // Градієнтні пресети - потрібно знайти відповідний градієнт
          const wallpaperGradients = {
            'abstract1': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            'abstract2': 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
            'abstract3': 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
            'abstract4': 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
            'abstract5': 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
            'abstract6': 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)'
          };
          
          if (wallpaperGradients[wallpaper]) {
            document.body.style.backgroundImage = wallpaperGradients[wallpaper];
          }
        }
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundRepeat = 'no-repeat';
        document.body.classList.add('has-wallpaper');
      } else {
        document.body.style.backgroundImage = 'none';
        document.body.classList.remove('has-wallpaper');
      }
    }
    
    loadTheme();

    // Слухаємо зміни теми
    window.addEventListener('storage', (e) => {
      if (e.key === 'themeMode' || e.key === 'themeBg' || e.key === 'themeAccent' || e.key === 'wallpaper') {
        loadTheme();
      }
    });
  </script>
</body>
</html>
